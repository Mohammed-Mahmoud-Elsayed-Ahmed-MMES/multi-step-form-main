<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- Render All Elements Normally -->
  <link rel="stylesheet" href="CSS/normalize.css">
  <link rel="stylesheet" href="CSS/master.css">
  <!-- Font Awesome Library -->
  <link rel="stylesheet" href="CSS/all.min.css">
  <!-- icon of the website -->
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  
  <title>Frontend Mentor | Multi-step form</title>

</head>
<body>

  <img src="./assets/images/bg-sidebar-mobile.svg" alt="" class="sidebarMob__img">
  <div class="container">
    
    <!-- Sidebar start -->
    <div class="sidebar">
      <img src="./assets/images/bg-sidebar-desktop.svg" alt="" class="sidebar__img">
      
      <div class="sidebarList">
        <button class="one painted">1</button>
        <span>STEP 1</span>
        <p>YOUR INFO</p>
    
        <button class="two">2</button>
        <span>STEP 2</span>
        <p>SELECT PLAN</p>

        <button class="three">3</button>
        <span>STEP 3</span>
        <p>ADD-ONS</p>

        <button class="four">4</button>
        <span>STEP 4</span>
        <p>SUMMARY</p>
        </div>
    </div>
  
  <!-- Sidebar end -->

  <!-- Step 1 start -->
    <form action="#" method="" class="personalInfo">
      <h1>Personal info</h1>
      <p>Please provide your name, email address, and phone number.</p>

      <div class="nameInput">
        <div class="labelContainer">
          <label for="Name">Name</label>
          <p class="nameError"></p>
        </div>
        <input type="text" name="Name" placeholder="e.g. Stephen King" required>
      </div>
      
      <div class="emailInput">
        <div class="labelContainer">
          <label for="Email">Email Address</label>
          <p class="emailError"></p>
        </div>
        <input type="email" name="Email" placeholder="e.g. stephenking@lorem.com" required>
      </div>
      

      <div class="phoneInput">
        <div class="labelContainer">
          <label for="Phone">Phone Number</label> 
          <p class="phoneError"></p>      
        </div>
        <input type="number" name="Phone" placeholder="e.g. +1 234 567 890" required>
      </div>
      

      <div class="buttonsArea">
        <button id="next" class="info" type="submit">Next Step</button>
      </div>
    </form>
  </div>
  <!-- Step 1 end -->

  <script>
    const nextButton = document.querySelector('#next');
    nextButton.addEventListener('click', () => {
      const form = document.querySelector('.personalInfo');
      const isValid = form.checkValidity();
      console.log(isValid);
    
      if (isValid) {
        window.location.href = 'other pages/selectPlan.html';
      } else {
        const nameError = document.querySelector('.personalInfo .nameError');
        const emailError = document.querySelector('.personalInfo .emailError');
        const phoneError = document.querySelector('.personalInfo .phoneError');
      
        const nameInput = document.querySelector('.personalInfo input[name="Name"]');
        const emailInput = document.querySelector('.personalInfo input[name="Email"]');
        const phoneInput = document.querySelector('.personalInfo input[name="Phone"]');
      
        /* Please note that the validity.valueMissing property specifically checks for the "required" attribute of 
        an input field. If you have other validation constraints, you can modify the code accordingly to handle those 
        cases as well.*/
        nameError.textContent = nameInput.validity.valueMissing ? 'This field is required' : nameInput.validationMessage;
        emailError.textContent = emailInput.validity.valueMissing ? 'This field is required' : emailInput.validationMessage;
        phoneError.textContent = phoneInput.validity.valueMissing ? 'This field is required' : phoneInput.validationMessage;
        
        if (nameInput.validity.valueMissing) {
          nameInput.style.outline = 'solid 2px red';
          emailInput.style.outline = 'solid 2px red';
          phoneInput.style.outline = 'solid 2px red';
        } else {
          nameInput.style.outline = 'none';
          emailInput.style.outline = 'none';
          phoneInput.style.outline = 'none';
        }
      }
    });

    /* nextButton.addEventListener('click', () => {
      window.location.href = 'other pages/selectPlan.html';
    });*/

  </script>

  <script src="JS/main.js"></script>
  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">Mohamed Mahmoud</a>.
  </div>
</body>
</html>
